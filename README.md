# Interleaving
実装に当たって考慮するべき観点と仮定・解決策
1. ページング対応

ページ番号に応じて、必要な数だけ結果を切り出す。

解決策：max_items = page * per_page により先に十分なデータを取得。

2. ユニーク性の担保

同じIDが new_ranking と old_ranking の両方に存在する可能性がある。

解決策：set により重複排除。

3. 順序の公平性

新旧交互に並ぶように interleaving して、片方に偏らないようにする。

解決策：i, j を使って交互にアイテムを追加。

4. データの枯渇

一方のランキングが途中で尽きる可能性がある。

解決策：i < len(new_items) と j < len(old_items) を都度確認。

5. インターリーブ後のページング精度

ページ内の要素が常に per_page 件に満たない可能性がある。

解決策：最大 page * per_page 件を先に作ってからページング。
